<%= form_with model: @case_organisation_form, scope: :case_organisation_form, url: support_case_organisation_path(@current_case), method: :patch do |form| %>
  <%= form.govuk_error_summary %>

  <%= render "components/autocomplete",
        container_id: "organisation-autocomplete-container",
        label_text: I18n.t("support.case_organisation.label"),
        label_class: "govuk-!-font-weight-bold govuk-!-font-size-36 govuk-!-margin-bottom-5",
        element_id: "organisation-autocomplete",
        element_name: "case_organisation_form[establishment_name]",
        template_suggestion: "<strong>{{name}}</strong>, {{postcode}}<br />{{establishment_type}}<br />URN: {{urn}} - UKPRN: {{ukprn}}",
        value_field: :name,
        hidden_fields: {
          'case_organisation_form[establishment_id]' => :id,
          'case_organisation_form[establishment_source]' => :source
        },
        query_url: support_establishments_path(format: :json, q: "{{QUERY}}") %>

  <%= form.submit I18n.t("support.case_organisation.submit"), class: "govuk-button" %>
<% end %>



