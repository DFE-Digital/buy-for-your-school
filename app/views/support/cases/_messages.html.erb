<table class="govuk-table messages-table">
  <thead class="govuk-table__head">
    <tr class="govuk-table__row">
      <th class="govuk-table__header name-column"><%= I18n.t("support.case.label.messages.table.added_by") %></th>
      <th class="govuk-table__header"><%= I18n.t("support.case.label.messages.table.message") %></th>
      <th class="govuk-table__header date-column"><%= I18n.t("support.case.label.messages.table.date") %></th>
    </tr>
  </thead>

  <tbody class="govuk-table__body">
    <% messages.each do |message| %>
      <% email = message.email %>
      <% if email.present? %>
        <%= render "support/cases/messages/outlook_message", message: message %>
      <% else %>
        <%= render "support/cases/messages/message", message: message %>
      <% end %>
    <% end %>
  </tbody>
</table>
