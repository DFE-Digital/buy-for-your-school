<% truncated_message = defined?(truncated_message) ? truncated_message : false %>

<div class="message">
  <div class="message-details">
    <span><%= message.sent_by_name %></span>
    <span><%= message.sent_at_formatted %></span>
  </div>

  <div <% if truncated_message %>class="message-preview govuk-body truncated-view" data-component="toggle-truncate"<% else %>class="message-preview govuk-body"<% end %>>
    <% if truncated_message %>
      <span class="truncated">
        <%= message.truncated_body_for_display(self) %>
      </span>
    <% end %>

    <span class="full-view <% if truncated_message %>govuk-!-display-none<% end %>">
      <%= message.body_for_display(self) %>
    </span>
  </div>
</div>

<hr class="govuk-!-margin-bottom-6" />
