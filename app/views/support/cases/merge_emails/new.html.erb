<%= form_with model: @merge_emails_form, scope: :merge_emails_form, url: preview_support_case_merge_emails_path(@current_case), method: :post do |form| %>
  <%= form.govuk_error_summary %>

  <h1 class="govuk-heading-l">
    <%= I18n.t("support.case_merge_emails.search.header") %>
  </h1>
  <p class="govuk-body-m">
    <%= I18n.t("support.case_merge_emails.search.subtitle") %>
  </p>
  <span class="govuk-caption-m">
    <%= I18n.t("support.case_merge_emails.search.hint") %>
  </span>

  <%= render "components/autocomplete",
        container_id: "case-autocomplete-container",
        label_class: "govuk-!-font-weight-bold govuk-!-font-size-36 govuk-!-margin-bottom-5",
        label_text: nil,
        element_id: "case-autocomplete",
        element_name: "merge_emails_form[merge_into_case_id]",
        template_suggestion: "{{ref}}, <strong>{{organisation_name}}</strong>, {{organisation_urn}}/{{organisation_ukprn}}, {{agent_name}}",
        value_field: :ref,
        query_url: support_cases_path(format: :json, q: "{{QUERY}}") %>

  <%= form.submit I18n.t("support.generic.continue"), class: "govuk-button" %>
<% end %>
