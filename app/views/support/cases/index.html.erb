<%= link_to I18n.t("support.case.label.create"), new_support_migrations_hub_case_path, class: "govuk-button", "role" => "button" %>

<div class="govuk-tabs" data-module="govuk-tabs">
  <ul class="govuk-tabs__list">
    <li class="govuk-tabs__list-item govuk-tabs__list-item--selected">
      <a class="govuk-tabs__tab" href="#my-cases">
        <%= I18n.t("support.case.list.my_cases") %>
      </a>
    </li>
    <li class="govuk-tabs__list-item">
      <a class="govuk-tabs__tab" href="#new-cases">
        <%= I18n.t("support.case.list.new_cases") %>
      </a>
    </li>
    <li class="govuk-tabs__list-item">
      <a class="govuk-tabs__tab" href="#all-cases">
        <%= I18n.t("support.case.list.all_cases") %>
      </a>
    </li>
  </ul>



  <div class="govuk-tabs__panel" id="my-cases">
    <h2 class="govuk-heading-l"><%= I18n.t("support.case.list.my_cases") %></h2>
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-full">
        <% if @my_cases.none? %>
          <h1 class="govuk-heading-l">
            <%= I18n.t("support.case.list.not_found") %>
          </h1>
        <% else %>
          <table class="govuk-table">
            <thead class="govuk-table__head">
              <tr class="govuk-table__row">
                <th class="govuk-table__header" scope="col">
                  <%= I18n.t("support.case.label.case") %>
                </th>
                <th class="govuk-table__header" scope="col">
                  <%= I18n.t("support.case.label.organisation") %>
                </th>
                <th class="govuk-table__header" scope="col">
                  <%= I18n.t("support.case.label.category") %>
                </th>
                <th class="govuk-table__header" scope="col">
                  <%= I18n.t("support.case.label.status") %>
                </th>
                <th class="govuk-table__header" scope="col">
                  <%= I18n.t("support.case.label.last_updated") %>
                </th>
              </tr>
            </thead>
            <tbody class="govuk-table__body">
              <% @my_cases.each do |kase| %>
                <%= render "row", kase: kase, tab: :my_cases %>
              <% end %>
            </tbody>
          </table>
        <% end %>
      </div>
    </div>
  </div>

  <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="new-cases">
    <h2 class="govuk-heading-l"><%= I18n.t("support.case.list.new_cases") %></h2>
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-full">
        <% if @new_cases.none? %>
          <h1 class="govuk-heading-l">
            <%= I18n.t("support.case.list.not_found") %>
          </h1>
        <% else %>
          <table class="govuk-table">
            <thead class="govuk-table__head">
              <tr class="govuk-table__row">
                <th class="govuk-table__header" scope="col">
                  <%= I18n.t("support.case.label.case") %>
                </th>
                <th class="govuk-table__header" scope="col">
                  <%= I18n.t("support.case.label.organisation") %>
                </th>
                <th class="govuk-table__header" scope="col">
                  <%= I18n.t("support.case.label.category") %>
                </th>
                <th class="govuk-table__header" scope="col">
                  <%= I18n.t("support.case.label.status") %>
                </th>
                <th class="govuk-table__header" scope="col">
                  <%= I18n.t("support.case.label.date_received") %>
                </th>
              </tr>
            </thead>
            <tbody class="govuk-table__body">
              <% @new_cases.each do |kase| %>
                <%= render "row", kase: kase, tab: :new_cases %>
              <% end %>
            </tbody>
          </table>
        <% end %>
      </div>
    </div>
  </div>

  <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="all-cases">
    <h2 class="govuk-heading-l"><%= I18n.t("support.case.list.all_cases") %></h2>
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-full">
        <% if @cases.none? %>
          <h1 class="govuk-heading-l">
            <%= I18n.t("support.case.list.not_found") %>
          </h1>
        <% else %>
          <table class="govuk-table">
            <thead class="govuk-table__head">
              <tr class="govuk-table__row">
                <th class="govuk-table__header" scope="col">
                  <%= I18n.t("support.case.label.case") %>
                </th>
                <th class="govuk-table__header" scope="col">
                  <%= I18n.t("support.case.label.organisation") %>
                </th>
                <th class="govuk-table__header" scope="col">
                  <%= I18n.t("support.case.label.category") %>
                </th>
                <th class="govuk-table__header" scope="col">
                  <%= I18n.t("support.case.label.status") %>
                </th>
                <th class="govuk-table__header" scope="col">
                  <%= I18n.t("support.case.label.assigned_to") %>
                </th>
                <th class="govuk-table__header" scope="col">
                  <%= I18n.t("support.case.label.last_updated") %>
                </th>
              </tr>
            </thead>
            <tbody class="govuk-table__body">
              <% @cases.each do |kase| %>
                <%= render "row", kase: kase, tab: :all_cases %>
              <% end %>
            </tbody>
          </table>
        <% end %>
      </div>
    </div>
  </div>



</div>
