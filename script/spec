#!/bin/sh
#
# Docker test environment Rspec suite
#
# @example
#   script/spec --format documentation --seed 123 spec/features
#

set -e
echo "NB: run script/build if the image ghbs:test does not exist locally"
echo "-----------------------------------------------------------------"

COMMAND="docker-compose -f docker-compose.yml -f docker-compose.test.yml --project-name ghbs run --rm app bundle exec"
ARGS=$@

if [ -n "$ARGS" ]; then
  exec $COMMAND rspec $ARGS
else
  exec $COMMAND rake
fi
